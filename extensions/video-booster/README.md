# Salem CleanStream (MV3)
Расширение для **Salem Explorer 4.5** (Chromium), совместимо с **Google Chrome** и **Microsoft Edge**.

## Что умеет
- Блокирует сетевые обращения к известным рекламным доменам через `declarativeNetRequest` (MV3-way).
- На YouTube ускоряет и мьютит видеорекламу + нажимает «Пропустить».
- Вайтлист сайтов (кнопка в попапе). Глобальный тумблер.
- Счётчики: сколько блокировок на вкладке и сколько всего за сессию.

## Установка
1. Скачайте папку проекта целиком (ветка выше).
2. Добавьте в `Assets/` логотип `logo.png` (128×128) — можно любой.
3. **Chrome / Edge:** зайдите на `chrome://extensions` / `edge://extensions`, включите *Developer mode* → **Load unpacked** → укажите корень проекта.
4. **Salem Explorer 4.5:** загрузите как «неупакованное расширение» через ваш менеджер расширений (модуль `extensions_loader`).

## Как это работает
- **Блокировка**: динамические правила формируются в `service-worker.js`. Вайтлист применяется через `excludedInitiatorDomains`, так что когда сайт в списке разрешённых — правила на его запросы не распространяются.
- **YouTube**: контент-скрипт `content.js` отслеживает состояние плеера, не ломая сеть (никаких сомнительных MITM-трюков). Как только плеер включает рекламу — звук глушится, скорость повышается, по кнопке «Пропустить» кликаем автоматически; как только реклама кончилась — параметры возвращаем.

## Горячие клавиши
- `Alt+Shift+A` — быстро включить/выключить CleanStream.

## Расширение правил
Список базовых доменов в `service-worker.js` в переменной `BASE_RULES`. Можно смело расширять — лимит динамических правил в MV3 позволяет это делать программно.

## Приватность
Расширение **не отправляет** ваши данные никуда. Статистика блокировок хранится локально в `chrome.storage.local`.

## Лицензия
MIT
